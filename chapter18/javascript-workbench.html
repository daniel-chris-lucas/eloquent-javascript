<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>A javaScript workbench</title>
</head>
<body>
    <h1>A javaScript workbench</h1>

    <p>
        Build an interface that allows people to type and run pieces of JavaScript code.
    </p>
    <p>
        Put a button next to a &lt;textarea&gt; field, which, when pressed, uses the <br>
        Function constructor we saw in Chapter 10 to wrap the text in a function and <br>
        call it. Convert the return value of the function, or any error it raised, <br>
        to a string and display it after the text field.
    </p>
    <hr>

    <textarea id="code">return "hi";</textarea>
    <button id="button">Run</button>
    <pre id="output"></pre>

    <script>
        document.querySelector("#button").addEventListener("click", function () {
            var code       = document.querySelector("#code").value,
                outputNode = document.querySelector("#output");

            try {
                var result = new Function(code)();
                outputNode.innerText = String(result);
            } catch (e) {
                outputNode.innerText = "Error: " + e;
            }
        });
    </script>
</body>
</html>